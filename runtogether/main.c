#include <stdio.h>

int dis[15][15] = {
        {0,90,420,295,355,568,632,768,501,714,670,930,996,1029,1199},
        {90,0,330,319,379,592,656,792,525,738,694,954,1020,1053,1223},
        {420,330,0,282,520,343,783,543,178,391,438,686,771,848,1018},
        {295,319,282,0,238,273,515,473,206,419,375,635,701,734,904},
        {355,379,520,238,0,341,277,363,444,657,473,733,591,789,959},
        {568,592,343,273,341,0,440,200,267,480,296,556,428,558,728},
        {632,656,783,515,277,440,0,240,707,920,573,833,468,666,836},
        {768,792,543,473,363,200,240,0,467,680,496,756,228,426,596},
        {501,525,178,206,444,267,707,467,0,213,260,520,695,670,840},
        {714,738,391,419,657,480,920,680,213,0,473,295,778,580,750},
        {670,694,438,375,473,296,573,496,160,473,0,260,498,410,580},
        {930,954,686,635,733,556,833,756,520,295,260,0,483,285,455},
        {996,1020,771,701,591,428,468,228,695,778,498,483,0,198,368},
        {1029,1053,848,734,789,558,666,426,670,580,410,285,198,0,170},
        {1199,1223,1018,904,959,728,836,596,840,750,580,455,368,170,0}
};

int sit[252][6] = {
        {0,0,0,0,0,5},{0,0,0,0,1,4},{0,0,0,0,2,3},{0,0,0,0,3,2},{0,0,0,0,4,1},
        {0,0,0,0,5,0},{0,0,0,1,0,4},{0,0,0,1,1,3},{0,0,0,1,2,2},{0,0,0,1,3,1},
        {0,0,0,1,4,0},{0,0,0,2,0,3},{0,0,0,2,1,2},{0,0,0,2,2,1},{0,0,0,2,3,0},
        {0,0,0,3,0,2},{0,0,0,3,1,1},{0,0,0,3,2,0},{0,0,0,4,0,1},{0,0,0,4,1,0},
        {0,0,0,5,0,0},{0,0,1,0,0,4},{0,0,1,0,1,3},{0,0,1,0,2,2},{0,0,1,0,3,1},
        {0,0,1,0,4,0},{0,0,1,1,0,3},{0,0,1,1,1,2},{0,0,1,1,2,1},{0,0,1,1,3,0},
        {0,0,1,2,0,2},{0,0,1,2,1,1},{0,0,1,2,2,0},{0,0,1,3,0,1},{0,0,1,3,1,0},
        {0,0,1,4,0,0},{0,0,2,0,0,3},{0,0,2,0,1,2},{0,0,2,0,2,1},{0,0,2,0,3,0},
        {0,0,2,1,0,2},{0,0,2,1,1,1},{0,0,2,1,2,0},{0,0,2,2,0,1},{0,0,2,2,1,0},
        {0,0,2,3,0,0},{0,0,3,0,0,2},{0,0,3,0,1,1},{0,0,3,0,2,0},{0,0,3,1,0,1},
        {0,0,3,1,1,0},{0,0,3,2,0,0},{0,0,4,0,0,1},{0,0,4,0,1,0},{0,0,4,1,0,0},
        {0,0,5,0,0,0},{0,1,0,0,0,4},{0,1,0,0,1,3},{0,1,0,0,2,2},{0,1,0,0,3,1},
        {0,1,0,0,4,0},{0,1,0,1,0,3},{0,1,0,1,1,2},{0,1,0,1,2,1},{0,1,0,1,3,0},
        {0,1,0,2,0,2},{0,1,0,2,1,1},{0,1,0,2,2,0},{0,1,0,3,0,1},{0,1,0,3,1,0},
        {0,1,0,4,0,0},{0,1,1,0,0,3},{0,1,1,0,1,2},{0,1,1,0,2,1},{0,1,1,0,3,0},
        {0,1,1,1,0,2},{0,1,1,1,1,1},{0,1,1,1,2,0},{0,1,1,2,0,1},{0,1,1,2,1,0},
        {0,1,1,3,0,0},{0,1,2,0,0,2},{0,1,2,0,1,1},{0,1,2,0,2,0},{0,1,2,1,0,1},
        {0,1,2,1,1,0},{0,1,2,2,0,0},{0,1,3,0,0,1},{0,1,3,0,1,0},{0,1,3,1,0,0},
        {0,1,4,0,0,0},{0,2,0,0,0,3},{0,2,0,0,1,2},{0,2,0,0,2,1},{0,2,0,0,3,0},
        {0,2,0,1,0,2},{0,2,0,1,1,1},{0,2,0,1,2,0},{0,2,0,2,0,1},{0,2,0,2,1,0},
        {0,2,0,3,0,0},{0,2,1,0,0,2},{0,2,1,0,1,1},{0,2,1,0,2,0},{0,2,1,1,0,1},
        {0,2,1,1,1,0},{0,2,1,2,0,0},{0,2,2,0,0,1},{0,2,2,0,1,0},{0,2,2,1,0,0},
        {0,2,3,0,0,0},{0,3,0,0,0,2},{0,3,0,0,1,1},{0,3,0,0,2,0},{0,3,0,1,0,1},
        {0,3,0,1,1,0},{0,3,0,2,0,0},{0,3,1,0,0,1},{0,3,1,0,1,0},{0,3,1,1,0,0},
        {0,3,2,0,0,0},{0,4,0,0,0,1},{0,4,0,0,1,0},{0,4,0,1,0,0},{0,4,1,0,0,0},
        {0,5,0,0,0,0},{1,0,0,0,0,4},{1,0,0,0,1,3},{1,0,0,0,2,2},{1,0,0,0,3,1},
        {1,0,0,0,4,0},{1,0,0,1,0,3},{1,0,0,1,1,2},{1,0,0,1,2,1},{1,0,0,1,3,0},
        {1,0,0,2,0,2},{1,0,0,2,1,1},{1,0,0,2,2,0},{1,0,0,3,0,1},{1,0,0,3,1,0},
        {1,0,0,4,0,0},{1,0,1,0,0,3},{1,0,1,0,1,2},{1,0,1,0,2,1},{1,0,1,0,3,0},
        {1,0,1,1,0,2},{1,0,1,1,1,1},{1,0,1,1,2,0},{1,0,1,2,0,1},{1,0,1,2,1,0},
        {1,0,1,3,0,0},{1,0,2,0,0,2},{1,0,2,0,1,1},{1,0,2,0,2,0},{1,0,2,1,0,1},
        {1,0,2,1,1,0},{1,0,2,2,0,0},{1,0,3,0,0,1},{1,0,3,0,1,0},{1,0,3,1,0,0},
        {1,0,4,0,0,0},{1,1,0,0,0,3},{1,1,0,0,1,2},{1,1,0,0,2,1},{1,1,0,0,3,0},
        {1,1,0,1,0,2},{1,1,0,1,1,1},{1,1,0,1,2,0},{1,1,0,2,0,1},{1,1,0,2,1,0},
        {1,1,0,3,0,0},{1,1,1,0,0,2},{1,1,1,0,1,1},{1,1,1,0,2,0},{1,1,1,1,0,1},
        {1,1,1,1,1,0},{1,1,1,2,0,0},{1,1,2,0,0,1},{1,1,2,0,1,0},{1,1,2,1,0,0},
        {1,1,3,0,0,0},{1,2,0,0,0,2},{1,2,0,0,1,1},{1,2,0,0,2,0},{1,2,0,1,0,1},
        {1,2,0,1,1,0},{1,2,0,2,0,0},{1,2,1,0,0,1},{1,2,1,0,1,0},{1,2,1,1,0,0},
        {1,2,2,0,0,0},{1,3,0,0,0,1},{1,3,0,0,1,0},{1,3,0,1,0,0},{1,3,1,0,0,0},
        {1,4,0,0,0,0},{2,0,0,0,0,3},{2,0,0,0,1,2},{2,0,0,0,2,1},{2,0,0,0,3,0},
        {2,0,0,1,0,2},{2,0,0,1,1,1},{2,0,0,1,2,0},{2,0,0,2,0,1},{2,0,0,2,1,0},
        {2,0,0,3,0,0},{2,0,1,0,0,2},{2,0,1,0,1,1},{2,0,1,0,2,0},{2,0,1,1,0,1},
        {2,0,1,1,1,0},{2,0,1,2,0,0},{2,0,2,0,0,1},{2,0,2,0,1,0},{2,0,2,1,0,0},
        {2,0,3,0,0,0},{2,1,0,0,0,2},{2,1,0,0,1,1},{2,1,0,0,2,0},{2,1,0,1,0,1},
        {2,1,0,1,1,0},{2,1,0,2,0,0},{2,1,1,0,0,1},{2,1,1,0,1,0},{2,1,1,1,0,0},
        {2,1,2,0,0,0},{2,2,0,0,0,1},{2,2,0,0,1,0},{2,2,0,1,0,0},{2,2,1,0,0,0},
        {2,3,0,0,0,0},{3,0,0,0,0,2},{3,0,0,0,1,1},{3,0,0,0,2,0},{3,0,0,1,0,1},
        {3,0,0,1,1,0},{3,0,0,2,0,0},{3,0,1,0,0,1},{3,0,1,0,1,0},{3,0,1,1,0,0},
        {3,0,2,0,0,0},{3,1,0,0,0,1},{3,1,0,0,1,0},{3,1,0,1,0,0},{3,1,1,0,0,0},
        {3,2,0,0,0,0},{4,0,0,0,0,1},{4,0,0,0,1,0},{4,0,0,1,0,0},{4,0,1,0,0,0},
        {4,1,0,0,0,0},{5,0,0,0,0,0}
};

int main() {
    int a[5], b[5], c[252][10];
    printf("请输入A组点位：");
    scanf("%d%d%d%d%d", &a[0], &a[1], &a[2], &a[3], &a[4]);
    printf("请输入B组点位：");
    scanf("%d%d%d%d%d", &b[0], &b[1], &b[2], &b[3], &b[4]);
    int i, j, k, t, tc;
    for(i = 0; i < 5; i++){
        a[i] -= 1;
        b[i] -= 1;
    }
    for(i = 0; i < 252; i++){
        t = 0;
        tc = 0;
        for(k = 0; k < 5; k++) {
            for (j = 0; j < sit[i][k]; j++) {
                c[i][tc++] = b[t++];
            }
            c[i][tc++] = a[k];
        }
        for (j = 0; j < sit[i][5]; j++) {
            c[i][tc++] = b[t++];
        }
    }
    int min = 100000, plan, total;
    for(i = 0; i < 252; i++){
        total = 0;
        for(j = 0; j < 9; j++){
            total += dis[c[i][j]][c[i][j+1]];
        }
        if(total < min){
            min = total;
            plan = i;
        }
    }

//    A自己跑
    int singleA = 0, singleB = 0;
    for(i = 0; i < 4; i++){
        singleA += dis[a[i]][a[i+1]];
    }

//    B自己跑
    for(i = 0; i < 4; i++){
        singleB += dis[b[i]][b[i+1]];
    }

    printf("经计算，您的最优方案为：\n开始--");
    int number = 1, number2 = 1;
    for(k = 0; k < 5; k++) {
        for (j = 0; j < sit[plan][k]; j++) {
            printf("B%d--", number++);
        }
        printf("A%d--", number2++);
    }
    for (j = 0; j < sit[plan][5]; j++) {
        printf("B%d--", number++);
    }
    printf("结束\n");
    printf("该方案的总里程为%d米\n",min);
    printf("相较之下，A单独跑里程为%d米，B单独跑里程为%d米\n", singleA, singleB);
    double maxAB = singleA > singleB ? singleA : singleB;
    printf("同步系数为：%.2f%%", 100 * maxAB / min);
    if(maxAB / min > 0.9) printf("，恭喜你，天选之子！\n");
    else if(singleA > singleB && singleB < 2000) printf("，建议刷新A的设备点位\n");
    else if(singleA <= singleB && singleA < 2000) printf("，建议刷新B的设备点位\n");
    else printf("，建议同时刷新两台设备的点位！");
}

